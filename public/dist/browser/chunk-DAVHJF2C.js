import{$,D as y,E as k,F as L,H as I,J as d,K as N,L as T,N as B,O,P as q,Q as G,S as A,U as D,V,W as U,Y as j,Z as J,aa as z,qa as H,z as b}from"./chunk-RNQE6ZNW.js";import{S as R,h as S,i as F,j as x,l as M,o as P}from"./chunk-7X4KEN7N.js";import"./chunk-T7VJLMO5.js";import{Bb as s,Fb as u,Jb as t,Kb as i,Lb as c,Rb as h,bc as o,cc as E,fb as n,ic as C,jc as _,ma as p,qa as w,xb as f}from"./chunk-ANUFB7NA.js";var le=()=>({path:"/animations/login.json"}),se=()=>["/users/create"];function ue(r,a){r&1&&(t(0,"mat-error"),o(1,"Informe um email V\xE1lido"),i())}function pe(r,a){r&1&&(t(0,"mat-error"),o(1,"Email \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}function ce(r,a){r&1&&(t(0,"mat-error"),o(1,"Senha \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}var K=class r{userLoginForm;showPassword=!1;formBuilder=p(G);authService=p(R);router=p(S);snackBar=p(H);ngOnInit(){this.createForm()}createForm(){this.userLoginForm=this.formBuilder.group({email:["",[d.required,d.email]],password:["",[d.required]]})}login(){let{email:a,password:l}=this.userLoginForm.value;this.authService.login(a,l).subscribe({next:()=>this.navigateToGoals(),error:e=>this.snackBar.open(`Falha ao realizar o login: ${e.code}`,"",{duration:3e3})})}navigateToGoals(){this.router.navigateByUrl("goals")}static \u0275fac=function(l){return new(l||r)};static \u0275cmp=w({type:r,selectors:[["app-login"]],standalone:!0,features:[C],decls:25,vars:12,consts:[[1,"container-login"],[3,"height","options"],[1,"title-login"],[1,"mt-1",3,"formGroup"],[1,"w-100"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-flat-button","",1,"w-100","mt-1",3,"click","disabled"],[1,"container-new-account"],["routerLinkActive","router-link-active",1,"link-create-account",3,"routerLink"]],template:function(l,e){if(l&1&&(t(0,"section",0),c(1,"ng-lottie",1),t(2,"h6",2),o(3,"Alcance suas metas, controle suas finan\xE7as."),i(),t(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),o(7,"Email"),i(),c(8,"input",5),f(9,ue,2,0,"mat-error")(10,pe,4,0,"mat-error"),i(),t(11,"mat-form-field",4)(12,"mat-label"),o(13,"Senha"),i(),c(14,"input",6),t(15,"mat-icon",7),h("click",function(){return e.showPassword=!e.showPassword}),o(16),i(),f(17,ce,4,0,"mat-error"),i(),t(18,"button",8),h("click",function(){return e.login()}),o(19,"Login"),i(),t(20,"div",9)(21,"span"),o(22,"N\xE3o possui conta?"),i(),t(23,"a",10),o(24,"Registrar-se"),i()()()()),l&2){let m,g,v;n(),s("height","200px")("options",_(10,le)),n(3),s("formGroup",e.userLoginForm),n(5),u((m=e.userLoginForm.get("email"))!=null&&m.hasError("email")&&!((m=e.userLoginForm.get("email"))!=null&&m.hasError("required"))?9:-1),n(),u((g=e.userLoginForm.get("email"))!=null&&g.hasError("required")?10:-1),n(4),s("type",e.showPassword?"text":"password"),n(2),E(e.showPassword?"visibility_off":"visibility"),n(),u((v=e.userLoginForm.get("password"))!=null&&v.hasError("required")?17:-1),n(),s("disabled",e.userLoginForm.invalid),n(5),s("routerLink",_(11,se))}},dependencies:[P,J,j,D,V,U,A,B,I,N,T,O,q,z,$,L,k,y,b,M,F,x],styles:[".container-login[_ngcontent-%COMP%]{padding:0 15px;height:100%;display:flex;flex-direction:column;justify-content:center;max-width:400px;margin:0 auto}.title-login[_ngcontent-%COMP%]{font-weight:lighter;text-align:center}.container-new-account[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.link-create-account[_ngcontent-%COMP%]{color:#005cbb;font-weight:700;margin-left:7px;letter-spacing:1px;text-decoration:none}"]})};function Z(r){return a=>{let l=a.parent?.get(r)?.value,e=a.value;return a.parent&&l!==e?{passwordsDoNotMatch:!0}:null}}var de=()=>({path:"/animations/create_user.json"}),fe=()=>["/users/login"];function ge(r,a){r&1&&(t(0,"mat-error"),o(1,"Informe um email V\xE1lido"),i())}function he(r,a){r&1&&(t(0,"mat-error"),o(1,"Email \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}function _e(r,a){r&1&&(t(0,"mat-error"),o(1,"Nome \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}function ve(r,a){r&1&&(t(0,"mat-error"),o(1,"Senha \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}function Ee(r,a){r&1&&(t(0,"mat-error"),o(1,"Senha \xE9 "),t(2,"strong"),o(3,"obrigat\xF3rio"),i()())}function we(r,a){r&1&&(t(0,"mat-error"),o(1,"As senhas devem ser iguais"),i())}var Q=class r{userForm;showPassword=!1;formBuilder=p(G);authService=p(R);router=p(S);snackBar=p(H);ngOnInit(){this.createForm()}createForm(){this.userForm=this.formBuilder.group({email:["",[d.required,d.email]],name:["",[d.required]],password:["",[d.required]],confirmPassword:["",[d.required,Z("password")]]})}registerUser(){let{name:a,email:l,password:e,confirmPassword:m}=this.userForm.value;if(m!==e){this.snackBar.open("Senhas n\xE3o s\xE3o iguais","",{duration:3e3});return}this.authService.registerUser(l,a,e).subscribe({next:()=>this.navigateToLogin(),error:g=>this.snackBar.open(`Falha ao criar usu\xE1rio: ${g.message}`,"",{duration:4e3})})}navigateToLogin(){this.router.navigateByUrl("users/login")}static \u0275fac=function(l){return new(l||r)};static \u0275cmp=w({type:r,selectors:[["app-register"]],standalone:!0,features:[C],decls:38,vars:17,consts:[[1,"container-register"],[3,"height","options"],[1,"title-create"],[1,"mt-1",3,"formGroup"],[1,"w-100"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["type","text","matInput","","formControlName","name","placeholder","Ex. Joao"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["mat-flat-button","",1,"w-100","mt-1",3,"click","disabled"],[1,"container-action-login"],["routerLinkActive","router-link-active",1,"link-create-account",3,"routerLink"]],template:function(l,e){if(l&1&&(t(0,"section",0),c(1,"ng-lottie",1),t(2,"h6",2),o(3,"Seu caminho para metas claras e finan\xE7as em ordem"),i(),t(4,"form",3)(5,"mat-form-field",4)(6,"mat-label"),o(7,"Email"),i(),c(8,"input",5),f(9,ge,2,0,"mat-error")(10,he,4,0,"mat-error"),i(),t(11,"mat-form-field",4)(12,"mat-label"),o(13,"Nome"),i(),c(14,"input",6),f(15,_e,4,0,"mat-error"),i(),t(16,"mat-form-field",4)(17,"mat-label"),o(18,"Senha"),i(),c(19,"input",7),t(20,"mat-icon",8),h("click",function(){return e.showPassword=!e.showPassword}),o(21),i(),f(22,ve,4,0,"mat-error"),i(),t(23,"mat-form-field",4)(24,"mat-label"),o(25,"Confirmar Senha"),i(),c(26,"input",9),t(27,"mat-icon",8),h("click",function(){return e.showPassword=!e.showPassword}),o(28),i(),f(29,Ee,4,0,"mat-error")(30,we,2,0,"mat-error"),i(),t(31,"button",10),h("click",function(){return e.registerUser()}),o(32,"Criar Conta"),i(),t(33,"div",11)(34,"span"),o(35,"J\xE1 possui conta?"),i(),t(36,"a",12),o(37,"Entrar"),i()()()()),l&2){let m,g,v,W,X,Y;n(),s("height","200px")("options",_(15,de)),n(3),s("formGroup",e.userForm),n(5),u((m=e.userForm.get("email"))!=null&&m.hasError("email")&&!((m=e.userForm.get("email"))!=null&&m.hasError("required"))?9:-1),n(),u((g=e.userForm.get("email"))!=null&&g.hasError("required")?10:-1),n(5),u((v=e.userForm.get("name"))!=null&&v.hasError("required")?15:-1),n(4),s("type",e.showPassword?"text":"password"),n(2),E(e.showPassword?"visibility_off":"visibility"),n(),u((W=e.userForm.get("password"))!=null&&W.hasError("required")?22:-1),n(4),s("type",e.showPassword?"text":"password"),n(2),E(e.showPassword?"visibility_off":"visibility"),n(),u((X=e.userForm.get("confirmPassword"))!=null&&X.hasError("required")?29:-1),n(),u((Y=e.userForm.get("confirmPassword"))!=null&&Y.hasError("passwordsDoNotMatch")?30:-1),n(),s("disabled",e.userForm.invalid),n(5),s("routerLink",_(16,fe))}},dependencies:[P,J,j,D,V,U,A,B,I,N,T,O,q,z,$,L,k,y,b,M,F,x],styles:[".container-register[_ngcontent-%COMP%]{padding:15px}.title-create[_ngcontent-%COMP%]{font-weight:lighter;text-align:center}.container-action-login[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.link-create-account[_ngcontent-%COMP%]{color:#005cbb;font-weight:700;margin-left:7px;letter-spacing:1px;text-decoration:none}"]})};var et=[{path:"login",component:K},{path:"create",component:Q}];export{et as USERS_ROUTES};
